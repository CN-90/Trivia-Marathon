!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0,this.lives=3,this.playerName="",this.time=10}var t,n,i;return t=e,(n=[{key:"addToScore",value:function(e){this.score+=e}},{key:"subtractLife",value:function(){this.lives--}},{key:"setPlayerName",value:function(e){this.playerName=e}},{key:"restartTime",value:function(){this.time=10}},{key:"restartGame",value:function(){this.score=0,this.lives=3}}])&&r(t.prototype,n),i&&r(t,i),e}();function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={prompt:this.selectEle("initial-prompt"),nameInput:this.selectEle("nameInput"),startGameBtn:this.selectEle("startGame"),questionCtn:this.selectEle("question-container"),score:this.selectEle("score"),lives:this.selectEle("lives"),category:this.selectEle("category"),time:this.selectEle("time"),question:this.selectEle("question"),answers:this.selectEle("answers"),answer:this.selectElements("answer"),promptNext:this.selectEle("prompt-next"),nextQuestion:this.selectEle("next-question"),gameOver:this.selectEle("game-over"),answerResult:this.selectEle("answer-result")}}var t,n,r;return t=e,(n=[{key:"selectEle",value:function(e){return document.getElementById(e)}},{key:"selectElements",value:function(e){return document.getElementsByClassName(e)}},{key:"renderHtml",value:function(e,t){e.innerText=t}},{key:"renderQuestion",value:function(e){console.log(e);var t=this.elements,n=t.category,r=t.question;n.innerText=e.category,r.innerText=e.question;var i=function(e){for(var t,n=[],r=e.length;r;)(t=Math.floor(Math.random()*e.length))in e&&(n.push(e[t]),delete e[t],r--);return n}([].concat(s(e.incorrect_answers),[e.correct_answer]));this.renderAnswers(i)}},{key:"renderAnswers",value:function(e){var t="";e.forEach((function(e){return t+='<li class="answer">'.concat(e,"</li>")})),this.elements.answers.innerHTML=t}},{key:"renderColors",value:function(e){console.log("RenderColors has been called dipshit."),Array.from(this.elements.answer).forEach((function(t){t.style.background="#f34040",t.innerText===e&&(t.style.background="#25d225",t.style.color="#232323")}))}},{key:"hideHtml",value:function(e){e.style.display="none"}},{key:"showHtml",value:function(e){e.style.display="block"}}])&&o(t.prototype,n),r&&o(t,r),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Game=t,this.UI=n,this.timer=null,this.index=0,this.questions=[],this.currentQuestion="",this.answer=""}var t,n,r;return t=e,(n=[{key:"addListeners",value:function(){var e=this,t=this.UI.elements,n=t.prompt,r=t.startGameBtn,i=t.nameInput,s=t.questionCtn,o=t.answers,a=t.nextQuestion;r.addEventListener("click",(function(t){t.preventDefault(),e.validateName(i.value)&&(e.UI.hideHtml(n),e.UI.showHtml(s),e.startRound())})),o.addEventListener("click",this.checkAnswer.bind(this)),a.addEventListener("click",this.startRound.bind(this))}},{key:"startRound",value:function(){this.answer="",this.Game.time=10,this.currentQuestion=this.questions[this.index],this.UI.renderHtml(this.UI.elements.time,10),this.UI.hideHtml(this.UI.elements.promptNext),this.setTimer(),this.UI.renderQuestion(this.currentQuestion),this.index++}},{key:"checkAnswer",value:function(e){var t=this.UI.elements,n=t.score,r=t.answerResult,i=t.promptNext;"answers"!==e.target.id&&(0==this.Game.time||this.answer||(this.UI.renderColors(this.currentQuestion.correct_answer),this.answer=e.target.innerText,this.answer===this.currentQuestion.correct_answer?(this.Game.score+=100,this.UI.showHtml(i),this.UI.renderHtml(n,this.Game.score),this.UI.renderHtml(r,"Correct!")):(this.Game.lives--,this.checkForGameOver()),this.clearTimer()))}},{key:"checkForGameOver",value:function(){var e=this.UI.elements,t=e.promptNext,n=e.answerResult,r=e.lives,i=e.gameOver;this.UI.renderHtml(r,this.Game.lives),0===this.Game.lives?this.UI.showHtml(i):(this.UI.showHtml(t),this.UI.renderHtml(n,"Incorrect!"))}},{key:"validateName",value:function(e){return""===nameInput.value.trim()?(alert("You must enter a name."),!1):(this.Game.playerName=e,!0)}},{key:"setTimer",value:function(){var e=this,t=this.UI.elements.time;this.timer=setInterval((function(){e.Game.time--,e.UI.renderHtml(t,e.Game.time),0===e.Game.time&&(e.clearTimer(),e.Game.lives--,e.checkForGameOver())}),1e3)}},{key:"clearTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"fetchQuestions",value:function(){var e=JSON.parse(localStorage.getItem("questions"));e?(this.questions=e,this.currentQuestion=this.questions[this.index],console.log(this.currentQuestion)):fetch("https://opentdb.com/api.php?amount=10").then((function(e){return e.json()})).then((function(e){return localStorage.setItem("questions",JSON.stringify(e.results))}))}}])&&l(t.prototype,n),r&&l(t,r),e}())(new i,new a);u.addListeners(),u.fetchQuestions()}]);